/**
 * @function doUnlink
 * @returns {Promise}
 */
'use strict';

var _promise = require('babel-runtime/core-js/promise');

var _promise2 = _interopRequireDefault(_promise);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var fs = require('fs');

/** @lends doUnlink */
async function doUnlink(filename, force) {
  if (force) {
    await new _promise2.default(function (resolve, reject) {
      return fs.chmod(filename, '666', function (err) {
        return err ? reject(err) : resolve();
      });
    });
  }
  await new _promise2.default(function (resolve, reject) {
    return fs.unlink(filename, function (err) {
      return err ? reject(err) : resolve();
    });
  });
}

module.exports = doUnlink;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRvX3VubGluay5qcyJdLCJuYW1lcyI6WyJmcyIsInJlcXVpcmUiLCJkb1VubGluayIsImZpbGVuYW1lIiwiZm9yY2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiY2htb2QiLCJlcnIiLCJ1bmxpbmsiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7OztBQUlBOzs7Ozs7OztBQUVBLElBQU1BLEtBQUtDLFFBQVEsSUFBUixDQUFYOztBQUVBO0FBQ0EsZUFBZUMsUUFBZixDQUF5QkMsUUFBekIsRUFBbUNDLEtBQW5DLEVBQTBDO0FBQ3hDLE1BQUlBLEtBQUosRUFBVztBQUNULFVBQU0sc0JBQVksVUFBQ0MsT0FBRCxFQUFVQyxNQUFWO0FBQUEsYUFDaEJOLEdBQUdPLEtBQUgsQ0FBU0osUUFBVCxFQUFtQixLQUFuQixFQUEwQixVQUFDSyxHQUFEO0FBQUEsZUFDeEJBLE1BQU1GLE9BQU9FLEdBQVAsQ0FBTixHQUFvQkgsU0FESTtBQUFBLE9BQTFCLENBRGdCO0FBQUEsS0FBWixDQUFOO0FBS0Q7QUFDRCxRQUFNLHNCQUFZLFVBQUNBLE9BQUQsRUFBVUMsTUFBVjtBQUFBLFdBQ2hCTixHQUFHUyxNQUFILENBQVVOLFFBQVYsRUFBb0IsVUFBQ0ssR0FBRDtBQUFBLGFBQ2xCQSxNQUFNRixPQUFPRSxHQUFQLENBQU4sR0FBb0JILFNBREY7QUFBQSxLQUFwQixDQURnQjtBQUFBLEdBQVosQ0FBTjtBQUtEOztBQUVESyxPQUFPQyxPQUFQLEdBQWlCVCxRQUFqQiIsImZpbGUiOiJkb191bmxpbmsuanMiLCJzb3VyY2VSb290IjoibGliIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZnVuY3Rpb24gZG9VbmxpbmtcbiAqIEByZXR1cm5zIHtQcm9taXNlfVxuICovXG4ndXNlIHN0cmljdCdcblxuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpXG5cbi8qKiBAbGVuZHMgZG9VbmxpbmsgKi9cbmFzeW5jIGZ1bmN0aW9uIGRvVW5saW5rIChmaWxlbmFtZSwgZm9yY2UpIHtcbiAgaWYgKGZvcmNlKSB7XG4gICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT5cbiAgICAgIGZzLmNobW9kKGZpbGVuYW1lLCAnNjY2JywgKGVycikgPT5cbiAgICAgICAgZXJyID8gcmVqZWN0KGVycikgOiByZXNvbHZlKClcbiAgICAgIClcbiAgICApXG4gIH1cbiAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT5cbiAgICBmcy51bmxpbmsoZmlsZW5hbWUsIChlcnIpID0+XG4gICAgICBlcnIgPyByZWplY3QoZXJyKSA6IHJlc29sdmUoKVxuICAgIClcbiAgKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRvVW5saW5rXG4iXX0=