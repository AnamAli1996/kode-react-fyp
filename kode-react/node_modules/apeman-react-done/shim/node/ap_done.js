/**
 * apeman react package for done components.
 * @class ApDone
 */

'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _classnames = require('classnames');

var _classnames2 = _interopRequireDefault(_classnames);

var _apemanReactButton = require('apeman-react-button');

var _asobj = require('asobj');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/** @lends ApDone */
var ApDone = function (_Component) {
  _inherits(ApDone, _Component);

  function ApDone() {
    _classCallCheck(this, ApDone);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(ApDone).apply(this, arguments));
  }

  _createClass(ApDone, [{
    key: 'render',
    value: function render() {
      var s = this;
      var props = s.props;


      return _react2.default.createElement(
        'div',
        { className: (0, _classnames2.default)('ap-done', props.className),
          style: Object.assign({}, props.style) },
        _react2.default.createElement(
          'p',
          { className: 'ap-done-message' },
          props.message
        ),
        props.children,
        _react2.default.createElement(
          'div',
          { className: 'ap-done-button-container' },
          _react2.default.createElement(ApDone.Button, { text: props.subActionText,
            action: props.onSubAction
          }),
          _react2.default.createElement(ApDone.Button, { text: props.actionText,
            action: props.onAction,
            primary: true
          })
        ),
        _react2.default.createElement(
          'div',
          null,
          _react2.default.createElement(ApDone.Link, { text: props.linkText,
            href: props.linkHref
          })
        )
      );
    }

    // --------------------
    // Lifecycle
    // --------------------

  }, {
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps, nextState) {
      var s = this;
      var props = s.props;
      var state = s.state;

      return !(0, _asobj.shallowEqual)(props, nextProps) || !(0, _asobj.shallowEqual)(state, nextState);
    }
  }]);

  return ApDone;
}(_react.Component);

Object.assign(ApDone, {

  // --------------------
  // Specs
  // --------------------

  propTypes: {
    /** Done message string */
    message: _react.PropTypes.string,
    /** Action button text */
    actionText: _react.PropTypes.string,
    /** Handler for action */
    onAction: _react.PropTypes.func,
    /** Sub action button text */
    subActionText: _react.PropTypes.string,
    /** Handler for sub action */
    onSubAction: _react.PropTypes.func,
    /** Link url */
    link: _react.PropTypes.string,
    /** Text of link */
    linkText: _react.PropTypes.string
  },

  defaultProps: {
    message: null,
    actionText: null,
    onAction: null,
    subActionText: null,
    onSubAction: null,
    linkHref: null,
    linkText: null
  },

  Button: function Button(_ref) {
    var text = _ref.text;
    var action = _ref.action;
    var primary = _ref.primary;

    if (!text) {
      return null;
    }
    return _react2.default.createElement(
      _apemanReactButton.ApButton,
      { className: 'ap-done-button',
        onTap: action,
        primary: primary
      },
      text
    );
  },
  Link: function Link(_ref2) {
    var text = _ref2.text;
    var href = _ref2.href;

    if (!text) {
      return null;
    }
    return _react2.default.createElement(
      'a',
      { href: href, className: 'ap-done-link' },
      text
    );
  }
});

exports.default = ApDone;
//# sourceMappingURL=data:application/json;base64,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b3QiOiJsaWIiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIGFwZW1hbiByZWFjdCBwYWNrYWdlIGZvciBkb25lIGNvbXBvbmVudHMuXG4gKiBAY2xhc3MgQXBEb25lXG4gKi9cblxuJ3VzZSBzdHJpY3QnXG5cbmltcG9ydCBSZWFjdCwge0NvbXBvbmVudCwgUHJvcFR5cGVzIGFzIHR5cGVzfSBmcm9tICdyZWFjdCdcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnXG5pbXBvcnQge0FwQnV0dG9ufSBmcm9tICdhcGVtYW4tcmVhY3QtYnV0dG9uJ1xuaW1wb3J0IHtzaGFsbG93RXF1YWx9IGZyb20gJ2Fzb2JqJ1xuXG4vKiogQGxlbmRzIEFwRG9uZSAqL1xuY2xhc3MgQXBEb25lIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCBzID0gdGhpc1xuICAgIGxldCB7IHByb3BzIH0gPSBzXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9eyBjbGFzc25hbWVzKCdhcC1kb25lJywgcHJvcHMuY2xhc3NOYW1lKSB9XG4gICAgICAgICAgIHN0eWxlPXsgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMuc3R5bGUpIH0+XG5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwiYXAtZG9uZS1tZXNzYWdlXCI+XG4gICAgICAgICAgeyBwcm9wcy5tZXNzYWdlIH1cbiAgICAgICAgPC9wPlxuICAgICAgICB7IHByb3BzLmNoaWxkcmVuIH1cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhcC1kb25lLWJ1dHRvbi1jb250YWluZXJcIj5cbiAgICAgICAgICA8QXBEb25lLkJ1dHRvbiB0ZXh0PXsgcHJvcHMuc3ViQWN0aW9uVGV4dCB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uPXsgcHJvcHMub25TdWJBY3Rpb24gfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPEFwRG9uZS5CdXR0b24gdGV4dD17IHByb3BzLmFjdGlvblRleHQgfVxuICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbj17IHByb3BzLm9uQWN0aW9uIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICBwcmltYXJ5XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPEFwRG9uZS5MaW5rIHRleHQ9eyBwcm9wcy5saW5rVGV4dCB9XG4gICAgICAgICAgICAgICAgICAgICAgIGhyZWY9eyBwcm9wcy5saW5rSHJlZiB9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBMaWZlY3ljbGVcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBzaG91bGRDb21wb25lbnRVcGRhdGUgKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG4gICAgY29uc3QgcyA9IHRoaXNcbiAgICBsZXQgeyBwcm9wcywgc3RhdGUgfSA9IHNcbiAgICByZXR1cm4gIXNoYWxsb3dFcXVhbChwcm9wcywgbmV4dFByb3BzKSB8fCAhc2hhbGxvd0VxdWFsKHN0YXRlLCBuZXh0U3RhdGUpXG4gIH1cbn1cblxuT2JqZWN0LmFzc2lnbihBcERvbmUsIHtcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBTcGVjc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIHByb3BUeXBlczoge1xuICAgIC8qKiBEb25lIG1lc3NhZ2Ugc3RyaW5nICovXG4gICAgbWVzc2FnZTogdHlwZXMuc3RyaW5nLFxuICAgIC8qKiBBY3Rpb24gYnV0dG9uIHRleHQgKi9cbiAgICBhY3Rpb25UZXh0OiB0eXBlcy5zdHJpbmcsXG4gICAgLyoqIEhhbmRsZXIgZm9yIGFjdGlvbiAqL1xuICAgIG9uQWN0aW9uOiB0eXBlcy5mdW5jLFxuICAgIC8qKiBTdWIgYWN0aW9uIGJ1dHRvbiB0ZXh0ICovXG4gICAgc3ViQWN0aW9uVGV4dDogdHlwZXMuc3RyaW5nLFxuICAgIC8qKiBIYW5kbGVyIGZvciBzdWIgYWN0aW9uICovXG4gICAgb25TdWJBY3Rpb246IHR5cGVzLmZ1bmMsXG4gICAgLyoqIExpbmsgdXJsICovXG4gICAgbGluazogdHlwZXMuc3RyaW5nLFxuICAgIC8qKiBUZXh0IG9mIGxpbmsgKi9cbiAgICBsaW5rVGV4dDogdHlwZXMuc3RyaW5nXG4gIH0sXG5cbiAgZGVmYXVsdFByb3BzOiB7XG4gICAgbWVzc2FnZTogbnVsbCxcbiAgICBhY3Rpb25UZXh0OiBudWxsLFxuICAgIG9uQWN0aW9uOiBudWxsLFxuICAgIHN1YkFjdGlvblRleHQ6IG51bGwsXG4gICAgb25TdWJBY3Rpb246IG51bGwsXG4gICAgbGlua0hyZWY6IG51bGwsXG4gICAgbGlua1RleHQ6IG51bGxcbiAgfSxcblxuICBCdXR0b24gKHsgdGV4dCwgYWN0aW9uLCBwcmltYXJ5IH0pIHtcbiAgICBpZiAoIXRleHQpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8QXBCdXR0b24gY2xhc3NOYW1lPVwiYXAtZG9uZS1idXR0b25cIlxuICAgICAgICAgICAgICAgIG9uVGFwPXsgYWN0aW9uIH1cbiAgICAgICAgICAgICAgICBwcmltYXJ5PXsgcHJpbWFyeSB9XG4gICAgICA+eyB0ZXh0IH08L0FwQnV0dG9uPlxuICAgIClcbiAgfSxcblxuICBMaW5rICh7IHRleHQsIGhyZWYgfSkge1xuICAgIGlmICghdGV4dCkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIDxhIGhyZWY9eyBocmVmIH0gY2xhc3NOYW1lPVwiYXAtZG9uZS1saW5rXCI+eyB0ZXh0IH08L2E+XG4gICAgKVxuICB9XG59KVxuXG5leHBvcnQgZGVmYXVsdCBBcERvbmVcbiJdfQ==