"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function removeBackdrop(){var e=document.getElementsByClassName("simple-react-modal-backdrop")[0];if(e){e.classList.remove("simple-react-modal-backdrop");var t=/\bfade\b/.test(e.className);t?(e.classList.remove("in"),setTimeout(function(){return e.parentNode.removeChild(e)},200)):e.parentNode.removeChild(e)}}function _objectWithoutProperties(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":_typeof(t))&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":_typeof(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var React=require("react"),React__default=_interopDefault(React),reactDom=require("react-dom"),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},objectWithoutProperties=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n},possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},ButtonDropdown=function(e){function t(){var e,n,a,r;classCallCheck(this,t);for(var o=arguments.length,s=Array(o),i=0;i<o;i++)s[i]=arguments[i];return n=a=possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={open:!1},a.documentClick=function(e){var t=void 0;if(a.toggleBtn&&(t=a.toggleBtn instanceof React.Component?reactDom.findDOMNode(a.toggleBtn):a.toggleBtn),!t||!t.contains(e.target)){var n="undefined"!=typeof a.props.open?a.props.open:a.state.open,r=a.props.keepOpenIfItemClickedNoLongerInDocument;if(n){if(a.props.ignoreContentClick){var o=void 0;if(a.contentMenu&&(o=a.contentMenu instanceof React.Component?reactDom.findDOMNode(a.contentMenu):a.contentMenu),o&&o.contains(e.target))return;if(r&&!document.contains(e.target))return}a.props.onToggle?a.props.onToggle(e):a.toggle()}}},a.toggle=function(){return a.setState({open:!a.state.open})},r=n,possibleConstructorReturn(a,r)}return inherits(t,e),createClass(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.documentClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.documentClick)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.className,r=void 0===a?"":a,o=t.containerElementType,s=void 0===o?"div":o,i=t.disabled,l=void 0!==i&&i,c=(t.ignoreContentClick,t.deferDropdownRendering,t.onToggle,t.open,t.clean),u=(t.keepOpenIfItemClickedNoLongerInDocument,objectWithoutProperties(t,["children","className","containerElementType","disabled","ignoreContentClick","deferDropdownRendering","onToggle","open","clean","keepOpenIfItemClickedNoLongerInDocument"]));if(!Array.isArray(n))throw"Error - at least two children should be passed: a toggle, and dropdown menu, at a minimum";var d=void 0,p=void 0,f="",h="";2===n.length?(d=n[0],p=n[1],f=" dropdown-toggle ",h=" dropdown-menu  "):(d=n.find(function(e){return e&&e.props&&/\bdropdown-toggle\b/.test(e.props.className)}),p=n.find(function(e){return e&&e.props&&/\bdropdown-menu\b/.test(e.props.className)}));var m=c?"":" btn-group ",_=void 0;if(d){var v=this.props.onToggle||("undefined"==typeof this.props.open?this.toggle:function(){}),b=d.props.onClick?function(e){l||(d.props.onClick(),v(e))}:l?function(){}:v;_=React__default.cloneElement(d,{className:f+(d.props.className||""),onClick:b,ref:function(t){return e.toggleBtn=t}})}var g=void 0;p&&(g=React__default.cloneElement(p,{className:h+(p.props.className||""),ref:function(t){return e.contentMenu=t}}));var C="undefined"!=typeof this.props.open?this.props.open:this.state.open,y=[r,m,C?"open":null].filter(function(e){return e}).join(" ");if(2===n.length)return React.createElement(s,_extends({className:y},u),React__default.cloneElement(_,{disabled:l}),!this.props.deferDropdownRendering||C?g:null);var N=[].concat(toConsumableArray(n));return d&&N.splice(N.indexOf(d),1,_),p&&N.splice(N.indexOf(p),1,!this.props.deferDropdownRendering||C?g:null),React.createElement.apply(void 0,[s,_extends({className:y},u)].concat(toConsumableArray(N)))}}]),t}(React.Component),spreadClassNames=function(e,t){return(t||"")+" "+(e||"")},ModalHeader=function(e){var t=e.className,n=void 0===t?"":t,a=(e.children,objectWithoutProperties(e,["className","children"]));return React__default.createElement("div",_extends({className:"modal-header "+n},a),e.children)},ModalFooter=function(e){var t=e.className,n=void 0===t?"":t,a=(e.children,objectWithoutProperties(e,["className","children"]));return React__default.createElement("div",_extends({className:"modal-footer "+n},a),e.children)},ModalBody=function(e){var t=e.className,n=void 0===t?"":t,a=(e.children,objectWithoutProperties(e,["className","children"]));return React__default.createElement("div",_extends({className:"modal-body "+n},a),e.children)},currentModals=[],ESC_KEY=27;window.addEventListener("keydown",function(e){var t=e.keyCode||e.which;t==ESC_KEY&&currentModals.length&&currentModals[currentModals.length-1].props.onHide()});var uuid=1,Modal=function(e){function t(){var e,n,a,r;classCallCheck(this,t);for(var o=arguments.length,s=Array(o),i=0;i<o;i++)s[i]=arguments[i];return n=a=possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.portalState={exists:!1,hasInCssClass:!1},a.mergePortalState=function(e,t){Object.assign(a.portalState,e),a.renderModal(t)},a.__showingUid=0,a.__bumpUid=function(){return a.__showingUid++},a.modalClick=function(e){var t=currentModals[currentModals.length-1];t===a&&e.target===e.currentTarget&&a.props.onHide()},a.initialMount=function(e){e&&(a.modalRef=e,a.props.show&&a._showModal())},a._hideModal=function(){a.__bumpUid();var e=a.__showingUid,t=/\bfade\b/.test(a.modalRef.className);t?(a.mergePortalState({hasInCssClass:!1}),setTimeout(function(){e===a.__showingUid&&a.mergePortalState({exists:!1})},200)):a.mergePortalState({hasInCssClass:!1,exists:!1}),currentModals.length<=1&&(document.body.classList.remove("modal-open"),removeBackdrop()),currentModals[currentModals.length-1]==a&&currentModals.pop()},r=n,possibleConstructorReturn(a,r)}return inherits(t,e),createClass(t,[{key:"componentDidMount",value:function(){this.__div=document.createElement("div"),this.__div.id="__simple-react-bootstrap-modal"+uuid++,document.body.appendChild(this.__div),this.renderModal()}},{key:"componentDidUpdate",value:function(e,t){!e.show&&this.props.show?this._showModal():e.show&&!this.props.show?this._hideModal():this.renderModal()}},{key:"_showModal",value:function(){var e=this;this.__bumpUid();var t=this.__showingUid,n=currentModals.length?null:document.createElement("div"),a=/\bfade\b/.test(this.modalRef.className);if(n){var r;(r=n.classList).add.apply(r,["modal-backdrop","simple-react-modal-backdrop",a?"fade":"in"])}if(a){n&&document.body.appendChild(n);var o=function(e){return window.__requestAnimationFrame?requestAnimationFrame(e):setTimeout(e,2)};this.mergePortalState({exists:!0},function(){return o(function(){return e.mergePortalState({hasInCssClass:!0})})}),o(function(){n&&n.classList.add("in"),document.body.classList.add("modal-open")}),setTimeout(function(){t===e.__showingUid&&currentModals.push(e)},200)}else n&&document.body.appendChild(n),this.mergePortalState({exists:!0,hasInCssClass:!0}),currentModals.push(this),document.body.classList.add("modal-open")}},{key:"render",value:function(){return React__default.createElement("div",null)}},{key:"renderModal",value:function(e){var t=this.props,n=t.children,a=t.manual,r=(t.show,t.onHide,t.className),o=t.style,s=objectWithoutProperties(t,["children","manual","show","onHide","className","style"]);reactDom.render(React__default.createElement("div",_extends({ref:this.initialMount,onClick:this.modalClick,className:spreadClassNames(r,"modal "+(this.portalState.hasInCssClass?"in":"")),style:_extends({},o,{display:this.portalState.exists?"block":""})},s,{role:"dialog"}),a?n:React__default.createElement("div",{className:"modal-dialog"},React__default.createElement("div",{className:"modal-content"},n))),this.__div,e)}},{key:"componentWillUnmount",value:function(){var e=this,t=currentModals.indexOf(this);this.props.show&&this._hideModal(),t>=0&&(currentModals.splice(t,1),currentModals.length||removeBackdrop()),setTimeout(function(){reactDom.unmountComponentAtNode(e.__div),setTimeout(function(){return document.body.removeChild(e.__div)},100)},1e3)}}]),t}(React__default.Component);Modal.Body=ModalBody,Modal.Header=ModalHeader,Modal.Footer=ModalFooter;var COLLAPSE_TIMEOUT=355,spreadClassNames$1=function(){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return a+" "+t.join(" ")},NavBarForm=function(e){var t=e.className,n=e.style,a=objectWithoutProperties(e,["className","style"]);return React__default.createElement("form",_extends({onSubmit:function(e){return e.preventDefault()},className:spreadClassNames$1(t,"navbar-form"),style:n},a),e.children)},NavBarBrand=function(e){return React__default.cloneElement(e.children,{className:"navbar-brand",key:"nav-bar-brand"})},NavBarToggle=function(e){return React__default.createElement("button",_extends({},e,{type:"button",className:"navbar-toggle collapsed"}),React__default.createElement("span",{className:"sr-only"},"Toggle navigation"),React__default.createElement("span",{className:"icon-bar"}),React__default.createElement("span",{className:"icon-bar"}),React__default.createElement("span",{className:"icon-bar"}))},NavBarHeader=function(e){function t(){return classCallCheck(this,t),possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return inherits(t,e),createClass(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.onClick;return React__default.createElement("div",{className:"navbar-header",ref:function(t){return e.el=t}},React__default.Children.map(n,function(e){return e.type===NavBarToggle?React__default.cloneElement(e,{onClick:a,key:"nav-bar-toggle"}):e}))}}]),t}(React__default.Component),NavBarItem=function(e){var t=e.disabled,n=e.className,a=e.active,r=e.href,o=e.children,s=objectWithoutProperties(e,["disabled","className","active","href","children"]);return React__default.createElement("li",_extends({disabled:!!t,className:spreadClassNames$1(n,t?"disabled":"",a?"active":"")},s),React__default.createElement("a",{href:r},o))},NavBarItemDivider=function(e){return React__default.createElement("li",{role:"separator",className:"divider"})},NavBarDropdown=function(e){var t=e.toggleClassName,n=e.style,a=e.disabled,r=e.text,o=e.children,s=e.ignoreContentClick,i=void 0!==s&&s,l=e.keepOpenIfItemClickedNoLongerInDocument,c=objectWithoutProperties(e,["toggleClassName","style","disabled","text","children","ignoreContentClick","keepOpenIfItemClickedNoLongerInDocument"]);return React__default.createElement(ButtonDropdown,{containerElementType:"li",clean:!0,ignoreContentClick:i,keepOpenIfItemClickedNoLongerInDocument:l,className:"dropdown "+(a?"disabled":""),disabled:!!a},React__default.createElement("a",_extends({className:spreadClassNames$1(t,"dropdown-toggle"),style:n||{}},c),r," ",React__default.createElement("span",{className:"caret"})),React__default.createElement("ul",{className:"dropdown-menu"},o))},Nav=function(e){var t=e.className,n=void 0===t?"":t,a=objectWithoutProperties(e,["className"]);return React__default.createElement("ul",_extends({},a,{className:"nav navbar-nav "+n}),a.children)},NavBar=function(e){function t(){var e,n,a,r;classCallCheck(this,t);for(var o=arguments.length,s=Array(o),i=0;i<o;i++)s[i]=arguments[i];return n=a=possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={collapsed:!0,heightExpanded:!1,collapseHeight:null},a._clearAnimation=function(){a._pendingAnimationClear&&(clearTimeout(a._pendingAnimationClear),a._pendingAnimationClear=null)},a.closeIfOpen=function(){(a.state.expanding||a.state.expanded)&&a.close()},a.close=function(){a.setState({collapsing:!0,collapseHeight:null,expanding:!1,expanded:!1}),a._pendingAnimationClear=setTimeout(function(){a.setState({collapsing:!1,collapseHeight:null}),a._cachedHeight=null},COLLAPSE_TIMEOUT)},a.expand=function(){if(!a._cachedHeight){var e=a.headerEl.el,t=e.nextSibling;t.style.visibility="hidden",t.classList.add("in");var n=t.offsetHeight;t.style.visibility="",t.classList.remove("in"),a._cachedHeight=n}a.setState({collapsing:!0,expanding:!0}),setTimeout(function(){return a.setState({collapseHeight:a._cachedHeight})},2),a._pendingAnimationClear=setTimeout(function(){return a.setState({collapsing:!1,expanded:!0,expanding:!1})},COLLAPSE_TIMEOUT)},r=n,possibleConstructorReturn(a,r)}return inherits(t,e),createClass(t,[{key:"toggleMobileCollapse",value:function(){this._clearAnimation(),this.state.expanded||this.state.expanding?this.close():this.expand()}},{key:"componentWillUnmount",value:function(){clearTimeout(this._pendingAnimationClear)}},{key:"render",value:function(){var e=this,t=this.props.children.find(function(e){return e.type===NavBarHeader}),n=this.props.children.filter(function(e){return e!=t});t&&(t=React__default.cloneElement(t,{onClick:this.toggleMobileCollapse.bind(this),ref:function(t){return e.headerEl=t}}));var a=this.props,r=a.style,o=a.className,s=void 0===o?"":o,i=objectWithoutProperties(a,["style","className"]);return React__default.createElement("nav",_extends({className:"navbar navbar-default "+s,style:r},i),React__default.createElement("div",{className:"container-fluid"},t||null,React__default.createElement("div",{className:(this.state.collapsing?" collapsing ":" collapse ")+" navbar-collapse "+(this.state.expanded?" in ":""),style:{height:this.state.collapseHeight||null}},n)))}}]),t}(React__default.Component);NavBar.Nav=Nav,NavBar.Item=NavBarItem,NavBar.ItemDivider=NavBarItemDivider,NavBar.Header=NavBarHeader,NavBar.Brand=NavBarBrand,NavBar.Toggle=NavBarToggle,NavBar.Dropdown=NavBarDropdown,NavBar.Form=NavBarForm;var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),Tabs$2=function(e){function t(){var e,n,a,r;_classCallCheck(this,t);for(var o=arguments.length,s=Array(o),i=0;i<o;i++)s[i]=arguments[i];return n=a=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={currentTab:a.props.defaultTab},a.tabSelect=function(e){a.isControlled?a.props.onChangeTab&&a.props.onChangeTab(e):a.setState(function(){return{currentTab:e}})},a.isControlled="undefined"!=typeof a.props.tab||"undefined"!=typeof a.props.onChangeTab,r=n,_possibleConstructorReturn(a,r)}return _inherits(t,e),_createClass(t,[{key:"componentWillMount",value:function(){var e=this,t=function(t){function n(){var t,a,r,o;_classCallCheck(this,n);for(var s=arguments.length,i=Array(s),l=0;l<s;l++)i[l]=arguments[l];return a=r=_possibleConstructorReturn(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(i))),r.onClick=function(t){t.preventDefault(),r.props.onClick&&r.props.onClick(),e.tabSelect(r.props.tab)},o=a,_possibleConstructorReturn(r,o)}return _inherits(n,t),_createClass(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=(e.onClick,e.href),a=e.tab;_objectWithoutProperties(e,["children","onClick","href","tab"]);return React__default.createElement("a",{href:n||"#"+a,onClick:this.onClick},t)}}]),n}(React.Component),n=function(t){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return _inherits(n,t),_createClass(n,[{key:"render",value:function t(){var n=this.props,t=n.render,a=n.children,r={isActive:e.currentTab==this.props.tab};return t?t(r):React.cloneElement(React.Children.only(a),r)}}]),n}(React.Component),a=function(t){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return _inherits(n,t),_createClass(n,[{key:"render",value:function t(){var n=this.props,t=n.render,a=n.children,r={isActive:e.currentTab==this.props.tab};return e.currentTab==this.props.tab||this.props.renderInActiveTabs?t?t({isActive:e.currentTab==this.props.tab}):React.cloneElement(React.Children.only(a),r):null}}]),n}(React.Component);this.TabLink=t,this.TabHeader=n,this.TabPane=a}},{key:"render",value:function(){var e=this.props.children,t=this.TabLink,n=this.TabHeader,a=this.TabPane;return e({TabLink:t,TabHeader:n,TabPane:a})}},{key:"currentTab",get:function(){return this.isControlled?this.props.tab:this.state.currentTab}}]),t}(React.Component),Tab=function(e){function t(){return classCallCheck(this,t),possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return inherits(t,e),createClass(t,[{key:"render",value:function(){return null}}]),t}(React.Component),Tabs=function(e){function t(e){classCallCheck(this,t);var n=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.tabSelect=function(e){return n.setState({currentTab:e})};var a=React.Children.toArray(n.props.children)[0],r=n.props.defaultTab||a&&a.tab||0;return n.state={defaultTab:r},n}return inherits(t,e),createClass(t,[{key:"render",value:function(){var e=React.Children.toArray(this.props.children),t=e.filter(function(e){return e.type==Tab}),n=this.props,a=n.headerClassname,r=void 0===a?"":a,o=n.headerStyle,s=void 0===o?{}:o;return React__default.createElement(Tabs$2,{tab:this.props.tab,onChangeTab:this.props.onChangeTab,defaultTab:this.state.defaultTab},function(e){var n=e.TabLink,a=e.TabHeader,o=e.TabPane;return React__default.createElement("div",null,React__default.createElement("ul",{className:"nav nav-tabs "+r,style:s},t.map(function(e,t){var r=e.props,o=r.name,s=r.className,i=void 0===s?"":s,l=(r.paneProps,r.caption),c=objectWithoutProperties(r,["name","className","paneProps","caption"]),u=o||t;return React__default.createElement(a,_extends({},c,{key:u,tab:u,render:function(a){var r=a.isActive;return React__default.createElement("li",_extends({},c,{className:(i||"")+" "+(r?" active ":"")}),React__default.createElement(n,{tab:e.props.name||t},l))}}))})),React__default.createElement("div",{className:"tab-content"},t.map(function(e,t){var n=e.props,a=n.name,r=(n.className,n.paneProps),s=void 0===r?{}:r,i=(objectWithoutProperties(n,["name","className","paneProps"]),s.classNamePane),l=void 0===i?"":i,c=objectWithoutProperties(s,["classNamePane"]),u=a||t;return React__default.createElement(o,{key:u,tab:u,render:function(t){var n=t.isActive;return React__default.createElement("div",_extends({},c,{className:l+" tab-pane "+(n?" active in ":"")}),e.props.children)}})})))})}}]),t}(React.Component);exports.ButtonDropdown=ButtonDropdown,exports.Modal=Modal,exports.NavBar=NavBar,exports.Tabs=Tabs,exports.Tab=Tab;