/**
 * Higher order component with form
 * @function withForm
 * @param {function} Component - A component constructor
 * @returns {function} - Wrapped component
 */
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _breact = require('breact');

var _classnames = require('classnames');

var _classnames2 = _interopRequireDefault(_classnames);

var _apemanReactStyle = require('apeman-react-style');

var _uuid = require('uuid');

var _uuid2 = _interopRequireDefault(_uuid);

var _stringcase = require('stringcase');

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _acolor = require('acolor');

var _asobj = require('asobj');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var noop = function noop() {
  return null;
};
var rejectMetaKey = function rejectMetaKey(name) {
  return !/^[$_]/.test(name);
};

/** @lends withForm */
function withForm(Component) {
  return (0, _breact.wrap)(Component, {
    displayName: 'withForm',
    propTypes: {
      /** Form id */
      id: _react.PropTypes.string,
      /** Submit handling */
      onSubmit: _react.PropTypes.func,
      /** Cancel handling */
      onCancel: _react.PropTypes.func,
      /** Update values */
      onUpdate: _react.PropTypes.func.isRequired,
      /** Form values */
      values: _react.PropTypes.object.isRequired,
      /** Form errors */
      errors: _react.PropTypes.object,
      /** Error color */
      errorColor: _react.PropTypes.string
    },

    getDefaultProps: function getDefaultProps() {
      return {
        onSubmit: noop,
        onCancel: noop,
        onUpdate: noop,
        values: {},
        errors: null,
        errorColor: '#E11'
      };
    },
    render: function render() {
      var s = this;
      var props = s.props;
      var _props$id = props.id;
      var id = _props$id === undefined ? 'form-' + s.uuid : _props$id;
      var errors = props.errors;
      var errorColor = props.errorColor;


      var errorList = _react2.default.createElement(withForm.ErrorList, { errors: errors,
        id: id });

      var errorStyle = _react2.default.createElement(withForm.ErrorStyle, { errors: errors,
        errorColor: errorColor,
        id: id });

      var idOf = function idOf(name) {
        return id + '-' + (0, _stringcase.spinalcase)(name);
      };
      var componentProps = (0, _asobj.clone)(props, {
        without: ['className']
      });
      var className = (0, _classnames2.default)(props.className, {
        'with-ap-form-error': Object.keys(errors || {}).filter(rejectMetaKey).length > 0
      });
      return _react2.default.createElement(Component, _extends({}, componentProps, {
        className: className,
        id: id,
        idOf: idOf,
        errorStyle: errorStyle,
        errorList: errorList
      }));
    },


    // --------------------
    // Lifecycle
    // --------------------

    componentWillMount: function componentWillMount() {
      var s = this;
      s.uuid = _uuid2.default.v4();
    }
  });
}

Object.assign(withForm, {
  // ------------------
  // Custom
  // ------------------

  ErrorList: function ErrorList(_ref) {
    var errors = _ref.errors;
    var id = _ref.id;

    var items = Object.keys(errors || {}).filter(rejectMetaKey).reduce(function (items, name) {
      return Object.assign(items, _defineProperty({}, errors[name], name));
    }, {});
    var className = (0, _classnames2.default)('ap-form-error-list', {
      'ap-form-error-list-empty': Object.keys(items).length === 0
    });

    return _react2.default.createElement(
      'ul',
      { className: className,
        id: 'error-list-for-' + id
      },
      Object.keys(items).map(function (message) {
        return _react2.default.createElement(
          'li',
          { key: items[message],
            className: 'ap-form-error-list-item'
          },
          message
        );
      })
    );
  },
  ErrorStyle: function ErrorStyle(_ref2) {
    var errors = _ref2.errors;
    var id = _ref2.id;
    var errorColor = _ref2.errorColor;

    var data = Object.keys(errors || {}).filter(rejectMetaKey).reduce(function (data, name) {
      return Object.assign(data, _defineProperty({}, '#' + id + ' [name="' + name + '"]', {
        borderColor: errorColor,
        outlineColor: errorColor,
        backgroundColor: (0, _acolor.alpha)(errorColor, 0.1)
      }));
    }, {});
    return _react2.default.createElement(_apemanReactStyle.ApStyle, { data: data });
  }
});

exports.default = withForm;
//# sourceMappingURL=data:application/json;base64,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QUdEO0FBM0NxQixDQUF4Qjs7a0JBOENlLFEiLCJmaWxlIjoid2l0aF9mb3JtLmpzeCIsInNvdXJjZVJvb3QiOiJsaWIiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEhpZ2hlciBvcmRlciBjb21wb25lbnQgd2l0aCBmb3JtXG4gKiBAZnVuY3Rpb24gd2l0aEZvcm1cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IENvbXBvbmVudCAtIEEgY29tcG9uZW50IGNvbnN0cnVjdG9yXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb259IC0gV3JhcHBlZCBjb21wb25lbnRcbiAqL1xuJ3VzZSBzdHJpY3QnXG5cbmltcG9ydCB7d3JhcH0gZnJvbSAnYnJlYWN0J1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcydcbmltcG9ydCB7QXBTdHlsZX0gZnJvbSAnYXBlbWFuLXJlYWN0LXN0eWxlJ1xuaW1wb3J0IHV1aWQgZnJvbSAndXVpZCdcbmltcG9ydCB7c3BpbmFsY2FzZX0gZnJvbSAnc3RyaW5nY2FzZSdcbmltcG9ydCBSZWFjdCwge1Byb3BUeXBlcyBhcyB0eXBlc30gZnJvbSAncmVhY3QnXG5pbXBvcnQge2FscGhhfSBmcm9tICdhY29sb3InXG5pbXBvcnQge2Nsb25lfSBmcm9tICdhc29iaidcblxuY29uc3Qgbm9vcCA9ICgpID0+IG51bGxcbmNvbnN0IHJlamVjdE1ldGFLZXkgPSAobmFtZSkgPT4gIS9eWyRfXS8udGVzdChuYW1lKVxuXG4vKiogQGxlbmRzIHdpdGhGb3JtICovXG5mdW5jdGlvbiB3aXRoRm9ybSAoQ29tcG9uZW50KSB7XG4gIHJldHVybiB3cmFwKENvbXBvbmVudCwge1xuICAgIGRpc3BsYXlOYW1lOiAnd2l0aEZvcm0nLFxuICAgIHByb3BUeXBlczoge1xuICAgICAgLyoqIEZvcm0gaWQgKi9cbiAgICAgIGlkOiB0eXBlcy5zdHJpbmcsXG4gICAgICAvKiogU3VibWl0IGhhbmRsaW5nICovXG4gICAgICBvblN1Ym1pdDogdHlwZXMuZnVuYyxcbiAgICAgIC8qKiBDYW5jZWwgaGFuZGxpbmcgKi9cbiAgICAgIG9uQ2FuY2VsOiB0eXBlcy5mdW5jLFxuICAgICAgLyoqIFVwZGF0ZSB2YWx1ZXMgKi9cbiAgICAgIG9uVXBkYXRlOiB0eXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgICAvKiogRm9ybSB2YWx1ZXMgKi9cbiAgICAgIHZhbHVlczogdHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgICAvKiogRm9ybSBlcnJvcnMgKi9cbiAgICAgIGVycm9yczogdHlwZXMub2JqZWN0LFxuICAgICAgLyoqIEVycm9yIGNvbG9yICovXG4gICAgICBlcnJvckNvbG9yOiB0eXBlcy5zdHJpbmdcbiAgICB9LFxuXG4gICAgZ2V0RGVmYXVsdFByb3BzICgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG9uU3VibWl0OiBub29wLFxuICAgICAgICBvbkNhbmNlbDogbm9vcCxcbiAgICAgICAgb25VcGRhdGU6IG5vb3AsXG4gICAgICAgIHZhbHVlczoge30sXG4gICAgICAgIGVycm9yczogbnVsbCxcbiAgICAgICAgZXJyb3JDb2xvcjogJyNFMTEnXG4gICAgICB9XG4gICAgfSxcblxuICAgIHJlbmRlciAoKSB7XG4gICAgICBjb25zdCBzID0gdGhpc1xuICAgICAgbGV0IHsgcHJvcHMgfSA9IHNcbiAgICAgIGxldCB7XG4gICAgICAgIGlkID0gYGZvcm0tJHtzLnV1aWR9YCxcbiAgICAgICAgZXJyb3JzLFxuICAgICAgICBlcnJvckNvbG9yXG4gICAgICB9ID0gcHJvcHNcblxuICAgICAgbGV0IGVycm9yTGlzdCA9IDx3aXRoRm9ybS5FcnJvckxpc3QgZXJyb3JzPXsgZXJyb3JzIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPXsgaWQgfS8+XG5cbiAgICAgIGxldCBlcnJvclN0eWxlID0gPHdpdGhGb3JtLkVycm9yU3R5bGUgZXJyb3JzPXsgZXJyb3JzIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JDb2xvcj17IGVycm9yQ29sb3IgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD17IGlkIH0vPlxuXG4gICAgICBsZXQgaWRPZiA9IChuYW1lKSA9PiBgJHtpZH0tJHtzcGluYWxjYXNlKG5hbWUpfWBcbiAgICAgIGxldCBjb21wb25lbnRQcm9wcyA9IGNsb25lKHByb3BzLCB7XG4gICAgICAgIHdpdGhvdXQ6IFsgJ2NsYXNzTmFtZScgXVxuICAgICAgfSlcbiAgICAgIGxldCBjbGFzc05hbWUgPSBjbGFzc25hbWVzKHByb3BzLmNsYXNzTmFtZSwge1xuICAgICAgICAnd2l0aC1hcC1mb3JtLWVycm9yJzogT2JqZWN0LmtleXMoZXJyb3JzIHx8IHt9KS5maWx0ZXIocmVqZWN0TWV0YUtleSkubGVuZ3RoID4gMFxuICAgICAgfSlcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxDb21wb25lbnQgeyAuLi5jb21wb25lbnRQcm9wcyB9XG4gICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXsgY2xhc3NOYW1lIH1cbiAgICAgICAgICAgICAgICAgICBpZD17IGlkIH1cbiAgICAgICAgICAgICAgICAgICBpZE9mPXsgaWRPZiB9XG4gICAgICAgICAgICAgICAgICAgZXJyb3JTdHlsZT17IGVycm9yU3R5bGUgfVxuICAgICAgICAgICAgICAgICAgIGVycm9yTGlzdD17IGVycm9yTGlzdCB9XG4gICAgICAgIC8+XG4gICAgICApXG4gICAgfSxcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gTGlmZWN5Y2xlXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGNvbXBvbmVudFdpbGxNb3VudCAoKSB7XG4gICAgICBjb25zdCBzID0gdGhpc1xuICAgICAgcy51dWlkID0gdXVpZC52NCgpXG4gICAgfVxuICB9KVxufVxuXG5PYmplY3QuYXNzaWduKHdpdGhGb3JtLCB7XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBDdXN0b21cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgRXJyb3JMaXN0ICh7IGVycm9ycywgaWQgfSkge1xuICAgIGxldCBpdGVtcyA9IE9iamVjdC5rZXlzKGVycm9ycyB8fCB7fSlcbiAgICAgIC5maWx0ZXIocmVqZWN0TWV0YUtleSlcbiAgICAgIC5yZWR1Y2UoKGl0ZW1zLCBuYW1lKSA9PiBPYmplY3QuYXNzaWduKGl0ZW1zLCB7XG4gICAgICAgIFtlcnJvcnNbIG5hbWUgXV06IG5hbWUgLy8gVXNlIG1lc3NhZ2UgYXMga2V5IHRvIHJlamVjdCBkdXBsaWNhdGlvblxuICAgICAgfSksIHt9KVxuICAgIGxldCBjbGFzc05hbWUgPSBjbGFzc25hbWVzKCdhcC1mb3JtLWVycm9yLWxpc3QnLCB7XG4gICAgICAnYXAtZm9ybS1lcnJvci1saXN0LWVtcHR5JzogT2JqZWN0LmtleXMoaXRlbXMpLmxlbmd0aCA9PT0gMFxuICAgIH0pXG5cbiAgICByZXR1cm4gKFxuICAgICAgPHVsIGNsYXNzTmFtZT17IGNsYXNzTmFtZSB9XG4gICAgICAgICAgaWQ9eyBgZXJyb3ItbGlzdC1mb3ItJHtpZH1gIH1cbiAgICAgID5cbiAgICAgICAge1xuICAgICAgICAgIE9iamVjdC5rZXlzKGl0ZW1zKS5tYXAoKG1lc3NhZ2UpID0+IChcbiAgICAgICAgICAgIDxsaSBrZXk9eyBpdGVtc1sgbWVzc2FnZSBdIH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2FwLWZvcm0tZXJyb3ItbGlzdC1pdGVtJ1xuICAgICAgICAgICAgPnsgbWVzc2FnZSB9PC9saT5cbiAgICAgICAgICApKVxuICAgICAgICB9XG4gICAgICA8L3VsPlxuICAgIClcbiAgfSxcblxuICBFcnJvclN0eWxlICh7IGVycm9ycywgaWQsIGVycm9yQ29sb3IgfSkge1xuICAgIGxldCBkYXRhID0gT2JqZWN0LmtleXMoZXJyb3JzIHx8IHt9KVxuICAgICAgLmZpbHRlcihyZWplY3RNZXRhS2V5KVxuICAgICAgLnJlZHVjZSgoZGF0YSwgbmFtZSkgPT4gT2JqZWN0LmFzc2lnbihkYXRhLCB7XG4gICAgICAgIFtgIyR7aWR9IFtuYW1lPVwiJHtuYW1lfVwiXWBdOiB7XG4gICAgICAgICAgYm9yZGVyQ29sb3I6IGVycm9yQ29sb3IsXG4gICAgICAgICAgb3V0bGluZUNvbG9yOiBlcnJvckNvbG9yLFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogYWxwaGEoZXJyb3JDb2xvciwgMC4xKVxuICAgICAgICB9XG4gICAgICB9KSwge30pXG4gICAgcmV0dXJuIChcbiAgICAgIDxBcFN0eWxlIGRhdGE9eyBkYXRhIH0vPlxuICAgIClcbiAgfVxufSlcblxuZXhwb3J0IGRlZmF1bHQgd2l0aEZvcm1cbiJdfQ==