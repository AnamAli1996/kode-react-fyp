import React from 'react';
import PropTypes from 'prop-types';
import { connect } from 'react-redux';
import CardFace from './card_face';

const Card = props =>
  <div
    className='card'
    data-is-flipped={props.isFlipped}
    data-is-current={props.isCurrent}
  >
    <CardFace
      className='card-face front'
      text={props.values[props.isReverted === true ? 1 : 0]}
    />
    <CardFace
      className='card-face back'
      text={props.values[props.isReverted === true ? 0 : 1]}
      isFlipped
    />
  </div>;

Card.propTypes = {
  isCurrent: PropTypes.bool.isRequired,
  values: PropTypes.arrayOf(PropTypes.string).isRequired,
  isReverted: PropTypes.bool.isRequired,
  isFlipped: PropTypes.bool,
};

Card.defaultProps = {
  isFlipped: false,
  isReverted: false,
  className: 'card',
};

const mapStateToProps = state => ({
  isFlipped: state.card.isFlipped,
  isReverted: state.card.isReverted,
});

export default connect(mapStateToProps)(Card);
